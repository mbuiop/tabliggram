<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÛŒØ³ØªÙ… Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #3d72b4 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding: 15px;
        }

        /* 3D Background Effects */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .floating-cube {
            position: absolute;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 6px;
            animation: float 25s infinite ease-in-out;
            opacity: 0.3;
            transform-style: preserve-3d;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(0) rotateY(0); }
            25% { transform: translateY(-120px) rotateX(90deg) rotateY(45deg); }
            50% { transform: translateY(-240px) rotateX(180deg) rotateY(90deg); }
            75% { transform: translateY(-120px) rotateX(270deg) rotateY(135deg); }
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 12px;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            background: linear-gradient(90deg, #ffffff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
            color: #f0f8ff;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Video Template - MODERN DESIGN */
        .video-template {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .video-template:hover {
            transform: translateY(-5px);
        }

        .video-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 25px;
            background: linear-gradient(45deg, #000428, #004e92);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 15px;
        }

        .video-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 12px 25px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .video-controls button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-controls button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .video-info {
            text-align: center;
            padding: 0 20px;
        }

        .video-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .video-description {
            font-size: 1rem;
            color: #f0f8ff;
            margin-bottom: 25px;
            opacity: 0.95;
            line-height: 1.7;
            max-width: 700px;
            margin: 0 auto 25px;
        }

        .video-stats {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            position: relative;
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #00ff88;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .stat-value:hover {
            transform: scale(1.1);
        }

        .stat-label {
            font-size: 0.95rem;
            opacity: 0.9;
            margin-top: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .stat-icon {
            font-size: 1.2rem;
        }

        /* Views List - Instagram Story Style */
        .views-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .views-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .views-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
        }

        .viewer-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 12px;
            min-width: 180px;
            transition: all 0.3s ease;
        }

        .viewer-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .viewer-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
        }

        .viewer-info {
            flex: 1;
        }

        .viewer-name {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 3px;
        }

        .viewer-time {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .video-link {
            display: inline-block;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
            text-decoration: none;
            padding: 15px 40px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            margin-top: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .video-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.5);
        }

        .video-link::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
        }

        .video-link:hover::after {
            animation: shine 1s ease;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Template Selection - PULLED BACK */
        .template-section {
            margin-bottom: 35px;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .template-section:hover {
            transform: scale(0.97);
        }

        .section-title {
            text-align: center;
            margin-bottom: 25px;
            color: #ffffff;
            font-size: 1.5rem;
            font-weight: 700;
            padding-bottom: 12px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff88, transparent);
        }

        /* Template Type Buttons - MODERN */
        .template-type-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .template-type-btn {
            background: linear-gradient(135deg, rgba(42, 82, 152, 0.8), rgba(30, 60, 114, 0.8));
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 180px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .template-type-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .template-type-btn:hover::before {
            left: 100%;
        }

        .template-type-btn.active {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.3);
        }

        .template-type-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(42, 82, 152, 0.4);
        }

        .template-type-btn.active:hover {
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.5);
        }

        /* Template Grid - MODERN CARDS */
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .template-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.08));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            cursor: pointer;
            transition: all 0.4s ease;
            color: #ffffff;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .template-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #00ff88, #2a5298);
        }

        .template-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 255, 136, 0.3);
        }

        .template-card.active {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.12));
            border-color: #00ff88;
            box-shadow: 0 15px 35px rgba(0, 255, 136, 0.2);
        }

        .template-card h3 {
            color: #ffffff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 700;
            text-align: center;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .template-weights {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .weight-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #f0f8ff;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .weight-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .weight-value {
            color: #00ff88;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .template-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .template-stat {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .stat-icon-small {
            font-size: 1.1rem;
        }

        .stat-count {
            font-weight: 700;
            color: #00ff88;
            font-size: 1.1rem;
        }

        /* Input Form - MODERN */
        .input-form {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 35px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            display: none;
            transform: translateY(20px);
            animation: slideUp 0.5s ease forwards;
        }

        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .input-group {
            position: relative;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #ffffff;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .input-group input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Buttons - MODERN */
        .generate-btn {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border: none;
            padding: 18px 40px;
            border-radius: 15px;
            color: #000;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            width: 100%;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
            display: block;
            position: relative;
            overflow: hidden;
        }

        .generate-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 255, 136, 0.4);
        }

        .reset-btn {
            background: linear-gradient(135deg, #ff6b7a, #ff4757);
            border: none;
            padding: 15px 35px;
            border-radius: 15px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            width: 100%;
            max-width: 250px;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }

        .reset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 71, 87, 0.4);
        }

        /* Signal Result - MODERN */
        .signal-result {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 30px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            display: none;
            transform: translateY(20px);
            animation: slideUp 0.5s ease forwards;
        }

        .signal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .signal-direction {
            font-size: 2.5rem;
            font-weight: 800;
            margin: 20px 0;
            padding: 20px 40px;
            border-radius: 20px;
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        .buy-strong { 
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 255, 136, 0.1));
            color: #00ff88; 
            text-shadow: 0 0 30px rgba(0, 255, 136, 0.7);
            border: 2px solid rgba(0, 255, 136, 0.3);
        }
        .buy-medium { 
            color: #66ff99; 
            background: rgba(102, 255, 153, 0.15);
        }
        .sell-strong { 
            background: linear-gradient(135deg, rgba(255, 71, 87, 0.2), rgba(255, 71, 87, 0.1));
            color: #ff4757; 
            text-shadow: 0 0 30px rgba(255, 71, 87, 0.7);
            border: 2px solid rgba(255, 71, 87, 0.3);
        }
        .sell-medium { 
            color: #ff6b7a; 
            background: rgba(255, 107, 122, 0.15);
        }
        .neutral { 
            color: #ffd700; 
            background: rgba(255, 215, 0, 0.15);
        }

        .signal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .signal-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .signal-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.15);
        }

        .signal-item h3 {
            color: #f0f8ff;
            margin-bottom: 12px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .signal-item .value {
            font-size: 1.4rem;
            font-weight: 700;
            color: #ffffff;
        }

        /* History Section - MODERN */
        .history-section {
            margin-top: 40px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .history-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .history-item:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.15);
        }

        /* Loading Animation - MODERN */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top: 4px solid #00ff88;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .template-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .video-stats {
                gap: 30px;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .video-controls {
                padding: 10px 20px;
                gap: 10px;
            }
            
            .video-controls button {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .template-type-btn {
                min-width: 150px;
                padding: 12px 25px;
                font-size: 0.9rem;
            }
            
            .views-list {
                max-height: 150px;
            }
        }

        @media (max-width: 480px) {
            .video-template,
            .template-section,
            .input-form,
            .signal-result,
            .history-section {
                padding: 20px 15px;
            }
            
            .template-weights {
                grid-template-columns: 1fr;
            }
            
            .video-stats {
                flex-direction: column;
                gap: 25px;
            }
            
            .video-title {
                font-size: 1.5rem;
            }
            
            .signal-direction {
                font-size: 1.8rem;
                padding: 15px 25px;
            }
        }

        /* View Progress Bar */
        .view-progress {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 5px;
        }

        .view-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #667eea);
            border-radius: 3px;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <!-- 3D Background Animation -->
    <div class="bg-animation" id="bgAnimation"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ¯ Ø³ÛŒØ³ØªÙ… Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>
            <p>ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¨Ø§Ø²Ø§Ø± Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ùˆ ÙˆØ²Ù†â€ŒØ¯Ù‡ÛŒ Ø¯Ù‚ÛŒÙ‚ - Ù†Ø³Ø®Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</p>
        </div>

        <!-- Video Template -->
        <div class="video-template">
            <div class="video-container">
                <video id="mainVideo" autoplay playsinline controls>
                    <source src="m.mp4" type="video/mp4">
                    Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² ÙˆÛŒØ¯Ø¦Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </video>
            </div>
            
            <div class="video-info">
                <h2 class="video-title">ğŸ¬ Ø¢Ù…ÙˆØ²Ø´ ØªØ­Ù„ÛŒÙ„ ØªÚ©Ù†ÛŒÚ©Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Û²Û°Û²Û´</h2>
                <p class="video-description">
                    Ø¯Ø± Ø§ÛŒÙ† ÙˆÛŒØ¯Ø¦ÙˆÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ØŒ ØªÙ…Ø§Ù… ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ØªÚ©Ù†ÛŒÚ©Ø§Ù„ Ùˆ Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ 
                    Ø±Ø§ ÛŒØ§Ø¯ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ú¯Ø±ÙØª. Ø§Ø² Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ© ØªØ§ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ø§Ù…Ù„Ø§ØªÛŒ Ù…Ø¯Ø±Ù†ØŒ 
                    Ù‡Ù…Ù‡ Ø±Ø§ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ù…Ù„ ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒÙ….
                </p>
                
                <div class="video-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="likesCount">Û´Û¸,Û²ÛµÛ°</div>
                        <div class="stat-label">
                            <span class="stat-icon">ğŸ‘</span> Ù„Ø§ÛŒÚ©
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="viewsCount">Û²Û´Ûµ,Û¸Û¹Û°</div>
                        <div class="stat-label">
                            <span class="stat-icon">ğŸ‘ï¸</span> Ø¨Ø§Ø²Ø¯ÛŒØ¯
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="currentWatching">Û±ÛµÛ¸</div>
                        <div class="stat-label">
                            <span class="stat-icon">â–¶ï¸</span> Ø¯Ø± Ø­Ø§Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡
                        </div>
                    </div>
                </div>

                <!-- Views List - Instagram Style -->
                <div class="views-section">
                    <div class="views-title">
                        <span>ğŸ‘¥ Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†</span>
                        <span style="font-size: 0.9rem; opacity: 0.7;">(Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§)</span>
                    </div>
                    <div class="views-list" id="viewsList">
                        <!-- Viewer items will be added dynamically -->
                    </div>
                </div>
                
                <a href="https://mbuiop.github.io/tabliggram/" class="video-link" target="_blank">
                    ğŸ”— Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø± Ø³Ø§ÛŒØª Ø§ØµÙ„ÛŒ
                </a>
            </div>
        </div>

        <!-- Template Type Selection -->
        <div class="template-type-buttons">
            <button class="template-type-btn active" id="btn100" onclick="switchTemplateType('100')">
                ğŸ“Š Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Û°-Û±Û°Û°
            </button>
            <button class="template-type-btn" id="btn500" onclick="switchTemplateType('500')">
                ğŸ“ˆ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Û°-ÛµÛ°Û°
            </button>
        </div>

        <!-- Template Selection -->
        <div class="template-section" id="templateSection100">
            <h2 class="section-title">ğŸ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø§Ù„Ø¨ ØªØ­Ù„ÛŒÙ„ (Ù…Ù‚ÛŒØ§Ø³ Û°-Û±Û°Û°)</h2>
            <div class="template-grid" id="templateGrid100">
                <!-- Templates will be generated by JavaScript -->
            </div>
        </div>

        <div class="template-section" id="templateSection500" style="display: none;">
            <h2 class="section-title">ğŸš€ Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø§Ù„Ø¨ ØªØ­Ù„ÛŒÙ„ (Ù…Ù‚ÛŒØ§Ø³ Û°-ÛµÛ°Û°)</h2>
            <div class="template-grid" id="templateGrid500">
                <!-- Templates will be generated by JavaScript -->
            </div>
        </div>

        <!-- Input Form -->
        <div class="input-form" id="inputForm" style="display: none;">
            <h2 class="section-title">ğŸ“Š ÙˆØ±ÙˆØ¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù†ÛŒÚ©Ø§Ù„</h2>
            <div class="form-grid">
                <div class="input-group">
                    <label>ğŸ’° Ù†Ù…Ø§Ø¯ Ø§Ø±Ø² (Symbol)</label>
                    <input type="text" id="symbol" placeholder="BTCUSDT" style="text-transform: uppercase;">
                </div>
                <div class="input-group">
                    <label>ğŸ’µ Ù‚ÛŒÙ…Øª ÙØ¹Ù„ÛŒ (Current Price)</label>
                    <input type="number" id="currentPrice" step="0.000001" placeholder="47500">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ Ù…Ù‚Ø§ÙˆÙ…Øª (Resistance)</label>
                    <input type="number" id="resistance" step="0.000001" placeholder="50000">
                </div>
                <div class="input-group">
                    <label>ğŸ“‰ Ø­Ù…Ø§ÛŒØª (Support)</label>
                    <input type="number" id="support" step="0.000001" placeholder="45000">
                </div>
                <div class="input-group">
                    <label>ğŸ“Š RSI (0-100)</label>
                    <input type="number" id="rsi" min="0" max="100" placeholder="45">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ EMA20</label>
                    <input type="number" id="ema20" step="0.000001" placeholder="47000">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ EMA50</label>
                    <input type="number" id="ema50" step="0.000001" placeholder="46000">
                </div>
                <div class="input-group">
                    <label>ğŸ”µ Upper Band</label>
                    <input type="number" id="upper" step="0.000001" placeholder="52000">
                </div>
                <div class="input-group">
                    <label>âš¡ MACD</label>
                    <input type="number" id="macd" step="0.000001" placeholder="150">
                </div>
                <div class="input-group">
                    <label>ğŸ“Š K (Ø§Ø³ØªÙˆÚ©Ø§Ø³ØªÛŒÚ©)</label>
                    <input type="number" id="stochK" min="0" max="100" placeholder="45">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ D (Ø§Ø³ØªÙˆÚ©Ø§Ø³ØªÛŒÚ©)</label>
                    <input type="number" id="stochD" min="0" max="100" placeholder="40">
                </div>
                <div class="input-group">
                    <label>ğŸ“‰ J (Ø§Ø³ØªÙˆÚ©Ø§Ø³ØªÛŒÚ©)</label>
                    <input type="number" id="stochJ" min="0" max="100" placeholder="55">
                </div>
                <div class="input-group">
                    <label>ğŸ“Š DIF (MACD)</label>
                    <input type="number" id="dif" step="0.000001" placeholder="0.05">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ DEA (MACD)</label>
                    <input type="number" id="dea" step="0.000001" placeholder="0.03">
                </div>
                <div class="input-group">
                    <label>ğŸ“Š ØªÙ†Ú©Ø§Ù† Ø³Ù† (Ichimoku)</label>
                    <input type="number" id="tenkan" step="0.000001" placeholder="48000">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ Ú©ÛŒØ¬ÙˆÙ† Ø³Ù† (Ichimoku)</label>
                    <input type="number" id="kijun" step="0.000001" placeholder="47500">
                </div>
                <div class="input-group">
                    <label>ğŸ“Š Ø³Ù†Ú©Ùˆ Ø§Ø³Ù¾Ù† A (Ichimoku)</label>
                    <input type="number" id="senkouA" step="0.000001" placeholder="48500">
                </div>
                <div class="input-group">
                    <label>ğŸ“ˆ Ø³Ù†Ú©Ùˆ Ø§Ø³Ù¾Ù† B (Ichimoku)</label>
                    <input type="number" id="senkouB" step="0.000001" placeholder="49000">
                </div>
                <div class="input-group">
                    <label>ğŸ“Š Ú†ÛŒÚ©Ùˆ Ø§Ø³Ù¾Ù† (Ichimoku)</label>
                    <input type="number" id="chikou" step="0.000001" placeholder="47300">
                </div>
            </div>
            <button class="generate-btn" onclick="generateSignal()">
                ğŸš€ ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡
            </button>
            <button class="reset-btn" onclick="resetForm()">
                ğŸ”„ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯
            </button>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="margin-top: 15px; font-size: 1.1rem; font-weight: 600;">Ø¯Ø± Ø­Ø§Ù„ ØªØ­Ù„ÛŒÙ„ Ù¾ÛŒØ´Ø±ÙØªÙ‡...</p>
        </div>

        <!-- Signal Result -->
        <div class="signal-result" id="signalResult" style="display: none;"></div>

        <!-- History -->
        <div class="history-section">
            <h2 class="section-title">ğŸ“œ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</h2>
            <div id="historyContainer">
                <p style="text-align: center; opacity: 0.7; font-size: 1rem; padding: 30px;">
                    Ù‡Ù†ÙˆØ² Ø³ÛŒÚ¯Ù†Ø§Ù„ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ ÛŒÚ© Ù‚Ø§Ù„Ø¨ ØªØ­Ù„ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Advanced Trading Bot Class Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
        class AdvancedTradingBot {
            constructor() {
                // Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ 0-100
                this.templates100 = {
                    "Ù‚Ø§Ù„Ø¨ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…": {"rsi": 25, "ema20": 20, "ema50": 18, "upper": 15, "macd": 22, "stoch": 20, "dif": 15, "dea": 15, "ichimoku": 30},
                    "Ù‚Ø§Ù„Ø¨ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ": {"rsi": 30, "ema20": 25, "ema50": 20, "upper": 12, "macd": 13, "stoch": 18, "dif": 12, "dea": 12, "ichimoku": 25},
                    "Ù‚Ø§Ù„Ø¨ Ø·Ù„Ø§ÛŒÛŒ": {"rsi": 22, "ema20": 28, "ema50": 25, "upper": 10, "macd": 15, "stoch": 22, "dif": 18, "dea": 18, "ichimoku": 28},
                    "Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø§Ø³ÛŒ": {"rsi": 35, "ema20": 15, "ema50": 30, "upper": 8, "macd": 12, "stoch": 15, "dif": 10, "dea": 10, "ichimoku": 20},
                    "Ù‚Ø§Ù„Ø¨ Ù¾Ù„Ø§ØªÛŒÙ†ÛŒ": {"rsi": 28, "ema20": 22, "ema50": 22, "upper": 14, "macd": 14, "stoch": 20, "dif": 16, "dea": 16, "ichimoku": 24}
                };
                
                // Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ 0-500
                this.templates500 = {
                    "Ù‚Ø§Ù„Ø¨ VIP": {"rsi": 125, "ema20": 120, "ema50": 118, "upper": 115, "macd": 122, "stoch": 120, "dif": 115, "dea": 115, "ichimoku": 130},
                    "Ù‚Ø§Ù„Ø¨ Ø³ÙˆÙ¾Ø±": {"rsi": 130, "ema20": 125, "ema50": 120, "upper": 112, "macd": 113, "stoch": 118, "dif": 112, "dea": 112, "ichimoku": 125},
                    "Ù‚Ø§Ù„Ø¨ ÙˆÛŒÚ˜Ù‡": {"rsi": 122, "ema20": 128, "ema50": 125, "upper": 110, "macd": 115, "stoch": 122, "dif": 118, "dea": 118, "ichimoku": 128},
                    "Ù‚Ø§Ù„Ø¨ Ø§Ú©Ø³ØªØ±Ø§": {"rsi": 135, "ema20": 115, "ema50": 130, "upper": 108, "macd": 112, "stoch": 115, "dif": 110, "dea": 110, "ichimoku": 120},
                    "Ù‚Ø§Ù„Ø¨ Ø§ÙˆÙ„ØªØ±Ø§": {"rsi": 128, "ema20": 122, "ema50": 122, "upper": 114, "macd": 114, "stoch": 120, "dif": 116, "dea": 116, "ichimoku": 124}
                };
                
                this.selectedTemplate = null;
                this.selectedTemplateType = "100";
                this.signalHistory = [];
                
                // Ø¢Ù…Ø§Ø± ÙˆÛŒØ¯Ø¦Ùˆ
                this.videoLikes = 48250;
                this.videoViews = 245890;
                this.currentWatching = 158;
                
                // Ø¢Ù…Ø§Ø± Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§
                this.templateStats = {};
                
                // Ù„ÛŒØ³Øª Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† - Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ ØªØµØ§Ø¯ÙÛŒ
                this.viewerNames = [
                    "Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ÛŒ", "Ø³Ø§Ø±Ø§ Ø§Ø­Ù…Ø¯ÛŒ", "Ù…Ø­Ù…Ø¯Ø±Ø¶Ø§ Ú©Ø±ÛŒÙ…ÛŒ", "ÙØ§Ø·Ù…Ù‡ Ø­Ø³ÛŒÙ†ÛŒ", "Ø­Ø³ÛŒÙ† Ø±Ø¶Ø§ÛŒÛŒ",
                    "Ù…Ø±ÛŒÙ… Ø¬Ø¹ÙØ±ÛŒ", "Ø±Ø¶Ø§ Ù…Ø­Ù…ÙˆØ¯ÛŒ", "Ù†Ø§Ø²Ù†ÛŒÙ† Ø²Ù…Ø§Ù†ÛŒ", "Ø§Ù…ÛŒØ±Ø­Ø³ÛŒÙ† Ù†Ø¬ÙÛŒ", "Ù„ÛŒÙ„Ø§ Ù‚Ø±Ø¨Ø§Ù†ÛŒ",
                    "Ù…Ø­Ù…Ø¯ Ø§Ù…ÛŒÙ†ÛŒ", "Ø²Ù‡Ø±Ø§ Ø·Ø¨Ø§Ø·Ø¨Ø§ÛŒÛŒ", "Ø­Ø³Ù† Ù…Ø±Ø§Ø¯ÛŒ", "Ø³Ù¾ÛŒØ¯Ù‡ Ú©Ø§Ø¸Ù…ÛŒ", "Ù¾Ø§Ø±Ø³Ø§ Ø¹Ù„ÛŒØ²Ø§Ø¯Ù‡",
                    "Ù†Ú¯ÛŒÙ† Ù…ÙˆØ³ÙˆÛŒ", "Ø³ÛŒÙ†Ø§ ØµØ§Ø¯Ù‚ÛŒ", "Ø±ÛŒØ­Ø§Ù†Ù‡ Ø·Ø§Ù‡Ø±ÛŒ", "Ú©Ø§Ù…ÛŒØ§Ø± ÙØ±Ø§Ù‡Ø§Ù†ÛŒ", "Ù‡Ø³ØªÛŒ Ù…Ø­Ù…Ø¯Ø±Ø¶Ø§ÛŒÛŒ",
                    "Ù¾ÙˆÛŒØ§ Ù†ÙˆØ±ÛŒ", "Ø³ØªØ§ÛŒØ´ Ø±Ø­Ù…Ø§Ù†ÛŒ", "Ø§Ù…ÛŒØ¯ Ø´Ø±ÛŒÙÛŒ", "Ø¢ØªÙ†Ø§ Ø§Ø³Ù„Ø§Ù…ÛŒ", "Ø¯Ø§Ù†ÛŒØ§Ù„ Ø¨Ù‡Ø±Ø§Ù…ÛŒ",
                    "Ù…Ù‡Ø¯ÛŒÙ‡ Ø³Ø±Ù…Ø¯ÛŒ", "Ø¢Ø±Ø´ Ú©Ø§Ù…Ø±Ø§Ù†ÛŒ", "Ù†Ø±Ú¯Ø³ Ø³Ù„Ø·Ø§Ù†ÛŒ", "Ø¨Ø±Ø¯ÛŒØ§ ÛŒØ²Ø¯Ø§Ù†ÛŒ", "ÛŒÙ„Ø¯Ø§ Ù…Ø­Ù…Ø¯Ø®Ø§Ù†ÛŒ",
                    "Ù¾Ø±Ù‡Ø§Ù… Ø±Ø¬Ø¨ÛŒ", "Ø³Ø­Ø± Ø¨Ù‡Ù…Ù†ÛŒ", "Ù†ÛŒÙ…Ø§ Ø§Ø³Ø¯ÛŒ", "Ø±ÙˆÚ˜Ø§Ù† Ú©ÛŒØ§Ù†ÛŒ", "Ø³Ø§Ù…Ø§Ù† Ø¯Ø§ÙˆØ¯ÛŒ",
                    "Ù…Ù‡Ø³Ø§ Ø³Ù„ÛŒÙ…Ø§Ù†ÛŒ", "ÙØ±Ø´Ø§Ø¯ Ø¬Ù„Ø§Ù„ÛŒ", "Ø¢ÙˆØ§ Ù†Ø¸Ø±ÛŒ", "Ø§Ù…ÛŒØ±Ø¹Ø¨Ø§Ø³ Ø¨Ø§Ù‚Ø±ÛŒ", "Ù‡Ø§Ù†ÛŒÙ‡ Ù¾ÙˆØ±Ø§Ø­Ù…Ø¯",
                    "Ø³Ø¬Ø§Ø¯ Ø§Ú©Ø¨Ø±ÛŒ", "Ù†ÛŒÚ©ÛŒ Ù…Ù‚Ø¯Ø³ÛŒ", "Ø­Ø³Ø§Ù… Ù…Ø±ØªØ¶ÙˆÛŒ", "Ù…Ø§Ø¦Ø¯Ù‡ Ø§Ù…ÛŒØ±ÛŒ", "Ù¾Ø§Ø±Ø³Ø§ Ø´Ù‡Ø¨Ø§Ø²ÛŒ",
                    "ÛŒØ§Ø³Ù…ÛŒÙ† Ú©Ù…Ø§Ù„ÛŒ", "Ø§Ù…ÛŒØ±Ù…Ø­Ù…Ø¯ Ø­ÛŒØ¯Ø±ÛŒ", "Ø±Ù‡Ø§ Ù†ÙˆØ±ÙˆØ²ÛŒ", "Ø¢Ø±Ù…ÛŒÙ† Ù…Ø®ØªØ§Ø±ÛŒ", "Ø³Ù¾Ù‡Ø± Ø±Ø³ØªÙ…ÛŒ"
                ];
                
                this.viewersList = [];
                
                this.initializeTemplates();
                this.createFloatingCubes();
                this.startAutoUpdates();
                this.generateViewers();
                this.setupVideoControls();
            }

            createFloatingCubes() {
                const bgAnimation = document.getElementById('bgAnimation');
                for (let i = 0; i < 20; i++) {
                    const cube = document.createElement('div');
                    cube.className = 'floating-cube';
                    cube.style.left = Math.random() * 100 + '%';
                    cube.style.top = Math.random() * 100 + '%';
                    cube.style.animationDelay = Math.random() * 25 + 's';
                    cube.style.animationDuration = (20 + Math.random() * 15) + 's';
                    cube.style.width = (20 + Math.random() * 25) + 'px';
                    cube.style.height = (20 + Math.random() * 25) + 'px';
                    cube.style.opacity = 0.1 + Math.random() * 0.3;
                    bgAnimation.appendChild(cube);
                }
            }

            setupVideoControls() {
                const video = document.getElementById('mainVideo');
                
                // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØµØ¯Ø§
                video.muted = false;
                video.volume = 0.5;
                
                // Ø§ØªÙˆÙ¾Ù„ÛŒ
                video.play().catch(e => {
                    console.log("Auto-play prevented");
                });
            }

            generateViewers() {
                // ØªÙˆÙ„ÛŒØ¯ Ù„ÛŒØ³Øª Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† Ù…Ù†Ø­ØµØ±Ø¨Ù‡â€ŒÙØ±Ø¯
                const usedNames = new Set();
                this.viewersList = [];
                
                for (let i = 0; i < 12; i++) {
                    let randomName;
                    do {
                        randomName = this.viewerNames[Math.floor(Math.random() * this.viewerNames.length)];
                    } while (usedNames.has(randomName) && usedNames.size < this.viewerNames.length);
                    
                    usedNames.add(randomName);
                    
                    // Ø²Ù…Ø§Ù† ØªØµØ§Ø¯ÙÛŒ (Ø¯Ù‚Ø§ÛŒÙ‚ Ú¯Ø°Ø´ØªÙ‡)
                    const minutesAgo = Math.floor(Math.random() * 60) + 1;
                    
                    this.viewersList.push({
                        name: randomName,
                        timeAgo: minutesAgo,
                        progress: Math.floor(Math.random() * 100) // Ù¾ÛŒØ´Ø±ÙØª Ù…Ø´Ø§Ù‡Ø¯Ù‡
                    });
                }
                
                this.updateViewersList();
            }

            updateViewersList() {
                const viewsList = document.getElementById('viewsList');
                viewsList.innerHTML = '';
                
                this.viewersList.forEach(viewer => {
                    const viewerItem = document.createElement('div');
                    viewerItem.className = 'viewer-item';
                    
                    // Ø­Ø±Ù Ø§ÙˆÙ„ Ù†Ø§Ù…
                    const firstLetter = viewer.name.charAt(0);
                    
                    viewerItem.innerHTML = `
                        <div class="viewer-avatar">${firstLetter}</div>
                        <div class="viewer-info">
                            <div class="viewer-name">${viewer.name}</div>
                            <div class="viewer-time">${viewer.timeAgo} Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´</div>
                            <div class="view-progress">
                                <div class="view-progress-fill" style="width: ${viewer.progress}%"></div>
                            </div>
                        </div>
                    `;
                    
                    viewsList.appendChild(viewerItem);
                });
            }

            startAutoUpdates() {
                // Ø¢Ù¾Ø¯ÛŒØª Ø¢Ù…Ø§Ø± ÙˆÛŒØ¯Ø¦Ùˆ Ù‡Ø± 2 Ø¯Ù‚ÛŒÙ‚Ù‡
                setInterval(() => {
                    this.updateVideoStats();
                }, 2 * 60 * 1000);
                
                // Ø¢Ù¾Ø¯ÛŒØª Ø¢Ù…Ø§Ø± Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ Ù‡Ø± 3 Ø¯Ù‚ÛŒÙ‚Ù‡
                setInterval(() => {
                    this.updateTemplateStats();
                }, 3 * 60 * 1000);
                
                // Ø¢Ù¾Ø¯ÛŒØª Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† Ù‡Ø± Ø¯Ù‚ÛŒÙ‚Ù‡
                setInterval(() => {
                    this.updateViewers();
                }, 60 * 1000);
                
                // Ø¢Ù¾Ø¯ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡
                this.updateVideoStats();
                this.updateTemplateStats();
                this.updateViewers();
            }

            updateVideoStats() {
                // Ø§ÙØ²Ø§ÛŒØ´ ØªØµØ§Ø¯ÙÛŒ Ù„Ø§ÛŒÚ©
                const likeIncrease = Math.floor(Math.random() * 50) + 20;
                // Ø§ÙØ²Ø§ÛŒØ´ ØªØµØ§Ø¯ÙÛŒ Ø¨Ø§Ø²Ø¯ÛŒØ¯
                const viewIncrease = Math.floor(Math.random() * 200) + 100;
                // Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù† ÙØ¹Ù„ÛŒ
                const watchingChange = Math.floor(Math.random() * 30) - 15;
                
                this.videoLikes += likeIncrease;
                this.videoViews += viewIncrease;
                this.currentWatching = Math.max(100, this.currentWatching + watchingChange);
                
                // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                this.animateStatUpdate('likesCount', this.formatNumber(this.videoLikes));
                this.animateStatUpdate('viewsCount', this.formatNumber(this.videoViews));
                this.animateStatUpdate('currentWatching', this.formatNumber(this.currentWatching));
            }

            updateViewers() {
                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø²Ù…Ø§Ù† Ù…Ø´Ø§Ù‡Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†
                this.viewersList.forEach(viewer => {
                    // Ú©Ø§Ù‡Ø´ Ø²Ù…Ø§Ù†
                    viewer.timeAgo += 1;
                    
                    // Ø§Ú¯Ø± Ø§Ø² 60 Ø¯Ù‚ÛŒÙ‚Ù‡ Ú¯Ø°Ø´ØªØŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†
                    if (viewer.timeAgo > 60) {
                        const newName = this.viewerNames[Math.floor(Math.random() * this.viewerNames.length)];
                        viewer.name = newName;
                        viewer.timeAgo = 1;
                        viewer.progress = Math.floor(Math.random() * 100);
                    }
                });
                
                this.updateViewersList();
            }

            updateTemplateStats() {
                // Ø§ÙØ²Ø§ÛŒØ´ Ø¢Ù…Ø§Ø± Ù‡Ø± Ù‚Ø§Ù„Ø¨
                Object.keys(this.templates100).forEach(name => {
                    if (!this.templateStats[name]) {
                        this.templateStats[name] = {
                            likes: Math.floor(Math.random() * 5000) + 2000,
                            views: Math.floor(Math.random() * 15000) + 8000
                        };
                    }
                    
                    this.templateStats[name].likes += Math.floor(Math.random() * 30) + 10;
                    this.templateStats[name].views += Math.floor(Math.random() * 150) + 50;
                    
                    this.updateTemplateCardStats(name);
                });
                
                Object.keys(this.templates500).forEach(name => {
                    if (!this.templateStats[name]) {
                        this.templateStats[name] = {
                            likes: Math.floor(Math.random() * 8000) + 4000,
                            views: Math.floor(Math.random() * 25000) + 15000
                        };
                    }
                    
                    this.templateStats[name].likes += Math.floor(Math.random() * 50) + 20;
                    this.templateStats[name].views += Math.floor(Math.random() * 250) + 100;
                    
                    this.updateTemplateCardStats(name);
                });
            }

            animateStatUpdate(elementId, newValue) {
                const element = document.getElementById(elementId);
                if (!element) return;
                
                element.style.transform = 'scale(1.3)';
                element.style.color = '#00ff88';
                element.style.textShadow = '0 0 15px rgba(0, 255, 136, 0.7)';
                
                setTimeout(() => {
                    element.textContent = newValue;
                    element.style.transform = 'scale(1)';
                    setTimeout(() => {
                        element.style.color = '';
                        element.style.textShadow = '';
                    }, 300);
                }, 150);
            }

            formatNumber(num) {
                if (num >= 1000000) {
                    return (num / 1000000).toFixed(1) + 'M';
                } else if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                }
                return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }

            initializeTemplates() {
                const templateGrid100 = document.getElementById('templateGrid100');
                const templateGrid500 = document.getElementById('templateGrid500');
                
                // Initialize 0-100 templates
                Object.entries(this.templates100).forEach(([name, weights]) => {
                    const card = this.createTemplateCard(name, weights, "100");
                    templateGrid100.appendChild(card);
                });
                
                // Initialize 0-500 templates
                Object.entries(this.templates500).forEach(([name, weights]) => {
                    const card = this.createTemplateCard(name, weights, "500");
                    templateGrid500.appendChild(card);
                });
            }

            createTemplateCard(name, weights, type) {
                // Ù…Ù‚Ø¯Ø§Ø± Ø§ÙˆÙ„ÛŒÙ‡ Ø¢Ù…Ø§Ø±
                if (!this.templateStats[name]) {
                    this.templateStats[name] = {
                        likes: Math.floor(Math.random() * (type === "100" ? 5000 : 8000)) + (type === "100" ? 2000 : 4000),
                        views: Math.floor(Math.random() * (type === "100" ? 15000 : 25000)) + (type === "100" ? 8000 : 15000)
                    };
                }
                
                const card = document.createElement('div');
                card.className = 'template-card';
                card.onclick = () => this.selectTemplate(name, card, type);
                
                card.innerHTML = `
                    <h3>${name}</h3>
                    <div class="template-weights">
                        <div class="weight-item">
                            <span>ğŸ“Š RSI</span>
                            <span class="weight-value">${weights.rsi}</span>
                        </div>
                        <div class="weight-item">
                            <span>ğŸ“ˆ EMA20</span>
                            <span class="weight-value">${weights.ema20}</span>
                        </div>
                        <div class="weight-item">
                            <span>ğŸ“ˆ EMA50</span>
                            <span class="weight-value">${weights.ema50}</span>
                        </div>
                        <div class="weight-item">
                            <span>ğŸ”µ Upper</span>
                            <span class="weight-value">${weights.upper}</span>
                        </div>
                        <div class="weight-item">
                            <span>âš¡ MACD</span>
                            <span class="weight-value">${weights.macd}</span>
                        </div>
                        <div class="weight-item">
                            <span>ğŸ“Š Stochastic</span>
                            <span class="weight-value">${weights.stoch}</span>
                        </div>
                        <div class="weight-item">
                            <span>ğŸ“ˆ DIF/DEA</span>
                            <span class="weight-value">${weights.dif + weights.dea}</span>
                        </div>
                        <div class="weight-item">
                            <span>ğŸ“Š Ichimoku</span>
                            <span class="weight-value">${weights.ichimoku}</span>
                        </div>
                    </div>
                    <div class="template-stats">
                        <div class="template-stat">
                            <span class="stat-icon-small">ğŸ‘</span>
                            <span class="stat-count" data-template="${name}" data-type="likes">${this.formatNumber(this.templateStats[name].likes)}</span>
                        </div>
                        <div class="template-stat">
                            <span class="stat-icon-small">ğŸ‘ï¸</span>
                            <span class="stat-count" data-template="${name}" data-type="views">${this.formatNumber(this.templateStats[name].views)}</span>
                        </div>
                    </div>
                `;
                
                return card;
            }

            updateTemplateCardStats(templateName) {
                const likeElement = document.querySelector(`[data-template="${templateName}"][data-type="likes"]`);
                const viewElement = document.querySelector(`[data-template="${templateName}"][data-type="views"]`);
                
                if (likeElement) {
                    likeElement.textContent = this.formatNumber(this.templateStats[templateName].likes);
                    this.animateCardStat(likeElement);
                }
                
                if (viewElement) {
                    viewElement.textContent = this.formatNumber(this.templateStats[templateName].views);
                    this.animateCardStat(viewElement);
                }
            }

            animateCardStat(element) {
                element.style.transform = 'scale(1.2)';
                element.style.color = '#00ff88';
                setTimeout(() => {
                    element.style.transform = 'scale(1)';
                    setTimeout(() => {
                        element.style.color = '';
                    }, 300);
                }, 200);
            }

            selectTemplate(templateName, cardElement, templateType) {
                document.querySelectorAll('.template-card').forEach(card => {
                    card.classList.remove('active');
                });
                
                cardElement.classList.add('active');
                this.selectedTemplate = templateName;
                this.selectedTemplateType = templateType;
                
                // Ø§ÙØ²Ø§ÛŒØ´ Ø¨Ø§Ø²Ø¯ÛŒØ¯
                this.templateStats[templateName].views += 1;
                this.updateTemplateCardStats(templateName);
                
                // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù…
                document.getElementById('inputForm').style.display = 'block';
                document.getElementById('inputForm').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });
            }

            // ========= Ø³ÛŒØ³ØªÙ… Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒØ¯Ù‡ÛŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù…Ø«Ù„ Ø§ÙˆÙ„ =========
            calculateRsiSignal(rsiValue, weight) {
                if (rsiValue < 30) return weight * 1.0;
                else if (rsiValue < 40) return weight * 0.6;
                else if (rsiValue > 70) return weight * -1.0;
                else if (rsiValue > 60) return weight * -0.6;
                else return 0;
            }

            calculateEmaSignal(ema20, ema50, currentPrice, weight) {
                const emaDiff = ((ema20 - ema50) / ema50) * 100;
                const priceToEma20 = ((currentPrice - ema20) / ema20) * 100;
                
                if (ema20 > ema50 && priceToEma20 > 0) {
                    const signalStrength = Math.min(Math.abs(emaDiff) / 2, 1.0);
                    return weight * signalStrength;
                } else if (ema20 < ema50 && priceToEma20 < 0) {
                    const signalStrength = Math.min(Math.abs(emaDiff) / 2, 1.0);
                    return weight * -signalStrength;
                } else {
                    return weight * (ema20 > ema50 ? 0.2 : -0.2);
                }
            }

            calculateUpperBandSignal(currentPrice, upperBand, weight) {
                const distanceRatio = (upperBand - currentPrice) / upperBand * 100;
                
                if (distanceRatio < 2) return weight * -0.9;
                else if (distanceRatio < 5) return weight * -0.6;
                else if (distanceRatio > 15) return weight * 0.7;
                else return weight * 0.2;
            }

            calculateMacdSignal(macdLine, signalLine, histogram, weight) {
                const macdDiff = macdLine - signalLine;
                
                if (macdDiff > 0 && histogram > 0) {
                    const signalStrength = Math.min(Math.abs(macdDiff) * 10, 1.0);
                    return weight * signalStrength;
                } else if (macdDiff < 0 && histogram < 0) {
                    const signalStrength = Math.min(Math.abs(macdDiff) * 10, 1.0);
                    return weight * -signalStrength;
                } else {
                    return weight * (macdDiff > 0 ? 0.1 : -0.1);
                }
            }

            calculateStochSignal(stochK, stochD, stochJ, weight) {
                if (stochK < 20 && stochD < 20 && stochJ < 20) return weight * 1.0;
                else if (stochK > 80 && stochD > 80 && stochJ > 80) return weight * -1.0;
                else if (stochK < 30 && stochD < 30) return weight * 0.6;
                else if (stochK > 70 && stochD > 70) return weight * -0.6;
                else if (stochK > stochD && stochJ > 50) return weight * 0.3;
                else if (stochK < stochD && stochJ < 50) return weight * -0.3;
                else return 0;
            }

            calculateDifDeaSignal(dif, dea, weight) {
                const diff = dif - dea;
                
                if (diff > 0 && dif > 0) return weight * 1.0;
                else if (diff < 0 && dif < 0) return weight * -1.0;
                else if (diff > 0) return weight * 0.5;
                else if (diff < 0) return weight * -0.5;
                else return 0;
            }

            calculateIchimokuSignal(currentPrice, tenkan, kijun, senkouA, senkouB, chikou, weight) {
                let signal = 0;
                
                if (currentPrice > Math.max(senkouA, senkouB)) signal += 0.4;
                else if (currentPrice < Math.min(senkouA, senkouB)) signal -= 0.4;
                
                if (tenkan > kijun) signal += 0.3;
                else if (tenkan < kijun) signal -= 0.3;
                
                if (chikou > currentPrice) signal += 0.3;
                else if (chikou < currentPrice) signal -= 0.3;
                
                return weight * signal;
            }

            calculateSupportResistanceSignal(currentPrice, support, resistance, weight) {
                const supportDistance = ((currentPrice - support) / currentPrice) * 100;
                const resistanceDistance = ((resistance - currentPrice) / currentPrice) * 100;
                
                if (supportDistance < 2) return weight * 0.8;
                else if (resistanceDistance < 2) return weight * -0.8;
                else if (supportDistance < 5) return weight * 0.4;
                else if (resistanceDistance < 5) return weight * -0.4;
                else return 0;
            }

            generateSignal() {
                if (!this.selectedTemplate) {
                    alert('âš ï¸ Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ù‚Ø§Ù„Ø¨ ØªØ­Ù„ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯');
                    return;
                }
                
                document.getElementById('loading').style.display = 'block';
                document.getElementById('signalResult').style.display = 'none';
                
                setTimeout(() => {
                    try {
                        // Get input values
                        const symbol = document.getElementById('symbol').value || 'BTCUSDT';
                        const currentPrice = parseFloat(document.getElementById('currentPrice').value) || 47500;
                        const resistance = parseFloat(document.getElementById('resistance').value) || 50000;
                        const support = parseFloat(document.getElementById('support').value) || 45000;
                        const rsi = parseFloat(document.getElementById('rsi').value) || 45;
                        const ema20 = parseFloat(document.getElementById('ema20').value) || 47000;
                        const ema50 = parseFloat(document.getElementById('ema50').value) || 46000;
                        const upper = parseFloat(document.getElementById('upper').value) || 52000;
                        const macd = parseFloat(document.getElementById('macd').value) || 150;
                        
                        // New indicators
                        const stochK = parseFloat(document.getElementById('stochK').value) || 45;
                        const stochD = parseFloat(document.getElementById('stochD').value) || 40;
                        const stochJ = parseFloat(document.getElementById('stochJ').value) || 55;
                        const dif = parseFloat(document.getElementById('dif').value) || 0.05;
                        const dea = parseFloat(document.getElementById('dea').value) || 0.03;
                        const tenkan = parseFloat(document.getElementById('tenkan').value) || 48000;
                        const kijun = parseFloat(document.getElementById('kijun').value) || 47500;
                        const senkouA = parseFloat(document.getElementById('senkouA').value) || 48500;
                        const senkouB = parseFloat(document.getElementById('senkouB').value) || 49000;
                        const chikou = parseFloat(document.getElementById('chikou').value) || 47300;
                        
                        // Get weights from selected template
                        let weights;
                        if (this.selectedTemplateType === "100") {
                            weights = this.templates100[this.selectedTemplate];
                        } else {
                            weights = this.templates500[this.selectedTemplate];
                        }
                        
                        // Calculate signals
                        const rsiSignal = this.calculateRsiSignal(rsi, weights.rsi);
                        const emaSignal = this.calculateEmaSignal(ema20, ema50, currentPrice, weights.ema20 + weights.ema50);
                        const upperSignal = this.calculateUpperBandSignal(currentPrice, upper, weights.upper);
                        const macdSignal = this.calculateMacdSignal(dif, dea, macd, weights.macd);
                        const stochSignal = this.calculateStochSignal(stochK, stochD, stochJ, weights.stoch);
                        const difDeaSignal = this.calculateDifDeaSignal(dif, dea, weights.dif + weights.dea);
                        const ichimokuSignal = this.calculateIchimokuSignal(currentPrice, tenkan, kijun, senkouA, senkouB, chikou, weights.ichimoku);
                        const srSignal = this.calculateSupportResistanceSignal(currentPrice, support, resistance, 100);
                        
                        // Calculate total signal
                        let totalSignal = rsiSignal + emaSignal + upperSignal + macdSignal + stochSignal + difDeaSignal + ichimokuSignal + srSignal;
                        
                        // Normalize signal
                        if (this.selectedTemplateType === "500") {
                            totalSignal = totalSignal / 5;
                        }
                        
                        // Calculate signal strength and direction
                        let signalStrength = Math.min(Math.abs(totalSignal) / 100, 1.0);
                        let signalDirection = totalSignal > 0 ? 'BUY' : 'SELL';
                        
                        // Calculate entry, take profit, and stop loss
                        const entryPrice = currentPrice;
                        const takeProfit = signalDirection === 'BUY' ? 
                            (entryPrice * 1.05).toFixed(2) : 
                            (entryPrice * 0.95).toFixed(2);
                        const stopLoss = signalDirection === 'BUY' ? 
                            (entryPrice * 0.93).toFixed(2) : 
                            (entryPrice * 1.07).toFixed(2);
                        
                        // Generate signal result
                        this.displaySignalResult({
                            symbol,
                            signalDirection,
                            signalStrength,
                            entryPrice,
                            takeProfit,
                            stopLoss,
                            currentPrice,
                            rsi,
                            ema20,
                            ema50,
                            upper,
                            macd,
                            stochK,
                            stochD,
                            stochJ,
                            dif,
                            dea,
                            tenkan,
                            kijun,
                            senkouA,
                            senkouB,
                            chikou,
                            resistance,
                            support,
                            weights
                        });
                        
                        // Add to history
                        this.addToHistory({
                            symbol,
                            signalDirection,
                            signalStrength,
                            entryPrice,
                            takeProfit,
                            stopLoss,
                            timestamp: new Date().toLocaleString('fa-IR')
                        });
                        
                    } catch (error) {
                        console.error('Error generating signal:', error);
                        alert('âŒ Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.');
                    }
                    
                    document.getElementById('loading').style.display = 'none';
                }, 1800);
            }

            displaySignalResult(data) {
                const signalResult = document.getElementById('signalResult');
                
                let signalClass = 'neutral';
                if (data.signalDirection === 'BUY') {
                    signalClass = data.signalStrength > 0.7 ? 'buy-strong' : 'buy-medium';
                } else if (data.signalDirection === 'SELL') {
                    signalClass = data.signalStrength > 0.7 ? 'sell-strong' : 'sell-medium';
                }
                
                const signalStrengthPercent = Math.round(data.signalStrength * 100);
                const directionText = data.signalDirection === 'BUY' ? 'ğŸŸ¢ Ø®Ø±ÛŒØ¯ Ù‚ÙˆÛŒ' : 'ğŸ”´ ÙØ±ÙˆØ´ Ù‚ÙˆÛŒ';
                
                signalResult.innerHTML = `
                    <div class="signal-header">
                        <h2 style="font-size: 1.8rem; margin-bottom: 10px;">ğŸ“ˆ Ø³ÛŒÚ¯Ù†Ø§Ù„ ${data.symbol}</h2>
                        <div class="signal-direction ${signalClass}">
                            ${directionText}
                        </div>
                        <p style="font-size: 1.2rem; margin-top: 15px;">Ù‚Ø¯Ø±Øª Ø³ÛŒÚ¯Ù†Ø§Ù„: <strong>${signalStrengthPercent}%</strong></p>
                    </div>
                    
                    <div class="signal-grid">
                        <div class="signal-item">
                            <h3>ğŸ’° Ù‚ÛŒÙ…Øª ÙˆØ±ÙˆØ¯</h3>
                            <div class="value">${data.entryPrice.toLocaleString('fa-IR')} $</div>
                        </div>
                        <div class="signal-item">
                            <h3>ğŸ¯ Ø­Ø¯ Ø³ÙˆØ¯ (5%)</h3>
                            <div class="value" style="color: #00ff88;">${parseFloat(data.takeProfit).toLocaleString('fa-IR')} $</div>
                        </div>
                        <div class="signal-item">
                            <h3>ğŸ›‘ Ø­Ø¯ Ø¶Ø±Ø± (7%)</h3>
                            <div class="value" style="color: #ff4757;">${parseFloat(data.stopLoss).toLocaleString('fa-IR')} $</div>
                        </div>
                        <div class="signal-item">
                            <h3>ğŸ“Š Ù‚Ø¯Ø±Øª Ø³ÛŒÚ¯Ù†Ø§Ù„</h3>
                            <div class="value">${signalStrengthPercent}%</div>
                            <div class="view-progress" style="margin-top: 10px;">
                                <div class="view-progress-fill" style="width: ${signalStrengthPercent}%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h3 class="section-title">ğŸ“Š ØªØ­Ù„ÛŒÙ„ ØªÚ©Ù†ÛŒÚ©Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                        <div class="indicator-analysis">
                            <div class="indicator-card">
                                <div class="indicator-title">ğŸ“Š RSI: ${data.rsi}</div>
                                <div class="indicator-details">
                                    ÙˆØ²Ù†: ${data.weights.rsi} - 
                                    ${data.rsi < 30 ? 'ğŸŸ¢ Ø§Ø´Ø¨Ø§Ø¹ ÙØ±ÙˆØ´' : data.rsi > 70 ? 'ğŸ”´ Ø§Ø´Ø¨Ø§Ø¹ Ø®Ø±ÛŒØ¯' : 'âšª Ø®Ù†Ø«ÛŒ'}
                                </div>
                                <div class="view-progress">
                                    <div class="view-progress-fill" style="width: ${data.rsi}%"></div>
                                </div>
                            </div>
                            <div class="indicator-card">
                                <div class="indicator-title">ğŸ“ˆ EMA: ${data.ema20.toLocaleString('fa-IR')} / ${data.ema50.toLocaleString('fa-IR')}</div>
                                <div class="indicator-details">
                                    ÙˆØ²Ù†: ${data.weights.ema20 + data.weights.ema50} - 
                                    ${data.ema20 > data.ema50 ? 'ğŸŸ¢ Ø±ÙˆÙ†Ø¯ ØµØ¹ÙˆØ¯ÛŒ' : 'ğŸ”´ Ø±ÙˆÙ†Ø¯ Ù†Ø²ÙˆÙ„ÛŒ'}
                                </div>
                            </div>
                            <div class="indicator-card">
                                <div class="indicator-title">ğŸ”µ Upper Band: ${data.upper.toLocaleString('fa-IR')}</div>
                                <div class="indicator-details">
                                    ÙˆØ²Ù†: ${data.weights.upper} - 
                                    ${data.currentPrice > data.upper ? 'ğŸ”´ Ø¨Ø§Ù„Ø§ÛŒ Ø¨Ø§Ù†Ø¯' : 'ğŸŸ¢ Ø²ÛŒØ± Ø¨Ø§Ù†Ø¯'}
                                </div>
                            </div>
                            <div class="indicator-card">
                                <div class="indicator-title">âš¡ MACD: ${data.macd}</div>
                                <div class="indicator-details">
                                    ÙˆØ²Ù†: ${data.weights.macd} - 
                                    ${data.macd > 0 ? 'ğŸŸ¢ Ù…Ø«Ø¨Øª' : 'ğŸ”´ Ù…Ù†ÙÛŒ'}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                signalResult.style.display = 'block';
                signalResult.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });
            }

            addToHistory(signal) {
                this.signalHistory.unshift(signal);
                
                if (this.signalHistory.length > 5) {
                    this.signalHistory.pop();
                }
                
                const historyContainer = document.getElementById('historyContainer');
                
                if (this.signalHistory.length === 0) {
                    historyContainer.innerHTML = '<p style="text-align: center; opacity: 0.7; font-size: 1rem; padding: 30px;">Ù‡Ù†ÙˆØ² Ø³ÛŒÚ¯Ù†Ø§Ù„ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>';
                    return;
                }
                
                historyContainer.innerHTML = '';
                this.signalHistory.forEach(signal => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    
                    let signalClass = 'neutral';
                    if (signal.signalDirection === 'BUY') {
                        signalClass = signal.signalStrength > 0.7 ? 'buy-strong' : 'buy-medium';
                    } else if (signal.signalDirection === 'SELL') {
                        signalClass = signal.signalStrength > 0.7 ? 'sell-strong' : 'sell-medium';
                    }
                    
                    const strengthPercent = Math.round(signal.signalStrength * 100);
                    
                    historyItem.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <strong style="font-size: 1.1rem;">${signal.symbol}</strong>
                                <span class="${signalClass}" style="padding: 5px 15px; border-radius: 10px; font-weight: 600;">
                                    ${signal.signalDirection === 'BUY' ? 'ğŸŸ¢ Ø®Ø±ÛŒØ¯' : 'ğŸ”´ ÙØ±ÙˆØ´'}
                                </span>
                            </div>
                            <div style="font-size: 0.9rem; opacity: 0.7;">${signal.timestamp}</div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 15px;">
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 0.8rem; opacity: 0.8;">ÙˆØ±ÙˆØ¯</div>
                                <div style="font-weight: 700; margin-top: 5px;">${parseFloat(signal.entryPrice).toLocaleString('fa-IR')}$</div>
                            </div>
                            <div style="background: rgba(0, 255, 136, 0.1); padding: 10px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 0.8rem; opacity: 0.8;">Ø³ÙˆØ¯</div>
                                <div style="font-weight: 700; color: #00ff88; margin-top: 5px;">${parseFloat(signal.takeProfit).toLocaleString('fa-IR')}$</div>
                            </div>
                            <div style="background: rgba(255, 71, 87, 0.1); padding: 10px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 0.8rem; opacity: 0.8;">Ø¶Ø±Ø±</div>
                                <div style="font-weight: 700; color: #ff4757; margin-top: 5px;">${parseFloat(signal.stopLoss).toLocaleString('fa-IR')}$</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 15px; font-size: 0.9rem;">
                            <div style="opacity: 0.7;">Ù‚Ø¯Ø±Øª: ${strengthPercent}%</div>
                            <div style="display: flex; align-items: center; gap: 5px;">
                                <div class="view-progress" style="width: 100px;">
                                    <div class="view-progress-fill" style="width: ${strengthPercent}%"></div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    historyContainer.appendChild(historyItem);
                });
            }
        }

        // Global functions
        function switchTemplateType(type) {
            const btn100 = document.getElementById('btn100');
            const btn500 = document.getElementById('btn500');
            const section100 = document.getElementById('templateSection100');
            const section500 = document.getElementById('templateSection500');
            
            if (type === '100') {
                btn100.classList.add('active');
                btn500.classList.remove('active');
                section100.style.display = 'block';
                section500.style.display = 'none';
            } else {
                btn100.classList.remove('active');
                btn500.classList.add('active');
                section100.style.display = 'none';
                section500.style.display = 'block';
            }
            
            // Reset selection
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('active');
            });
            document.getElementById('inputForm').style.display = 'none';
            if (window.tradingBot) {
                window.tradingBot.selectedTemplate = null;
            }
        }

        function generateSignal() {
            if (!window.tradingBot || !window.tradingBot.selectedTemplate) {
                alert('âš ï¸ Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ù‚Ø§Ù„Ø¨ ØªØ­Ù„ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            window.tradingBot.generateSignal();
        }

        function resetForm() {
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('active');
            });
            
            document.getElementById('inputForm').style.display = 'none';
            document.getElementById('signalResult').style.display = 'none';
            document.getElementById('loading').style.display = 'none';
            
            // Reset form inputs
            document.querySelectorAll('#inputForm input').forEach(input => {
                input.value = '';
            });
            
            if (window.tradingBot) {
                window.tradingBot.selectedTemplate = null;
            }
        }

        // Initialize
        window.onload = function() {
            window.tradingBot = new AdvancedTradingBot();
        };
    </script>
</body>
</html>